<html><head><meta http-equiv="content-type" name="description" content="text/html; charset=UTF-8"> <title>touch-event</title><link rel="stylesheet" href="../../../acldoc-styles.css" type="text/css"></head><body><table border="0" width="100%" cellpadding="1" cellspacing="0"><tr><td colspan="2" bgcolor="#00FFFF"><table border="0" cellpadding="5" cellspacing="3"><tr><td align="left" bgcolor="#00FFFF"><b>Generic Function</b></td><td align="left" bgcolor="#00FFFF"><b>Package: cg</b></td><td align="center" bgcolor="#00FFFF"><a href="../../../contents.htm"><b>ToC</b></a></td><td align="center" bgcolor="#00FFFF"><a href="../../../introduction.htm"><b>DocOverview</b></a></td><td align="center" bgcolor="#00FFFF"><a href="../../../cgide.htm"><b>CGDoc</b></a></td><td align="center" bgcolor="#00FFFF"><a href="../../../release-notes.htm"><b>RelNotes</b></a></td><td align="center" bgcolor="#00FFFF"><a href="http://www.franz.com/support/faq/"><b>FAQ</b></a></td><td align="center" bgcolor="#00FFFF"><a href="../../../index.htm"><b>Index</b></a></td><td align="center" bgcolor="#00FFFF"><a href="../../../permuted-index.htm"><b>PermutedIndex</b></a></td></tr></table></td><td align="right"><b>Allegro CL version 10.0</b><br><small><a href="../../../introduction.htm#updates-s">This page is new in 10.0.</a></small></td></tr></table><h2 id="2">touch-event</h2>

<p id="3"><b>Arguments: </b><i>
window touch-points count
</i></p>

<p id="4">
This generic function is called one or more times for any gesture on a
window if <a href="../r/register-touch-window.htm"><b>register-touch-window</b></a> has been called to switch
that window to the touch interface.  (Otherwise <a href="../g/gesture-event.htm"><b>gesture-event</b></a> will be called by default.)  This
function will be called once for each different position of one or
more fingers during a continuous gesture.  This is the somewhat
lower-level interface that does not figure out which type of gesture
is being done for you, but you can interpret any sort of touches and
drags of up to ten simultaneous fingers however you like.
</p>
<p id="5">
An application can supply methods for this generic function to handle
gestures. If a method handles a gesture, it should return true.
Otherwise it should return <code>nil</code> to perform the
default behavior that's built into Windows.  The default method on
<a href="../../../classes/cg/basic-pane.htm"><code>basic-pane</code></a> does nothing and
returns <code>nil</code>.
</p>
<p id="6">
<b><i>window</i></b> is the window where the gesture
began.
</p>
<p id="7">
<b><i>touch-points</i></b> is a vector
of <a href="../../../classes/cg/touch-point.htm"><code>touch-point</code></a> Lisp
structures, and <b><i>count</i></b> is the number of
structures in the vector.  Each touch-point is for one of the fingers
that are currently touching the screen, and provides a variety of
information about that finger.
</p>
<p id="8">
Note that these structures and the vector containing them are reused
on each call to <a href="../t/touch-event.htm"><b>touch-event</b></a>
for the same window. (This is done to reduce consing.) So if you
want to save any of this information then you need to extract it from
the touch-points and save it elsewhere. Typically you will want to
save the X and Y coordinates from the first call for a gesture, or all
calls, to compare the coordinates of later calls to them.
</p>
<p id="9">
Here are the accessor functions of the touch-point structure that a
touch-event method can read to determine the current state of a
gesture.
</p>
<ul>
<li id="10">
<a href="../t/touch-point-id.htm"><b>touch-point-id</b></a>
</li>
<li id="11">
<a href="../t/touch-point-primary.htm"><b>touch-point-primary</b></a>
</li>
<li id="12">
<a href="../t/touch-point-type.htm"><b>touch-point-type</b></a>
</li>
<li id="13">
<a href="../t/touch-point-x.htm"><b>touch-point-x</b></a>
</li>
<li id="14">
<a href="../t/touch-point-y.htm"><b>touch-point-y</b></a>
</li>
<li id="15">
<a href="../t/touch-point-width.htm"><b>touch-point-width</b></a>
</li>
<li id="16">
<a href="../t/touch-point-height.htm"><b>touch-point-height</b></a>
</li>
<li id="17">
<a href="../t/touch-point-extra.htm"><b>touch-point-extra</b></a>
</li>
<li id="18">
<a href="../t/touch-point-palm.htm"><b>touch-point-palm</b></a>
</li>
<li id="19">
<a href="../t/touch-point-in-range.htm"><b>touch-point-in-range</b></a>
</li>
<li id="20">
<a href="../t/touch-point-not-coalesced.htm"><b>touch-point-not-coalesced</b></a>
</li>
<li id="21">
<a href="../t/touch-point-time.htm"><b>touch-point-time</b></a>
</li>
<li id="22">
<a href="../t/touch-point-time-is-from-system.htm"><b>touch-point-time-is-from-system</b></a>
</li>
<li id="23">
<a href="../t/touch-point-device.htm"><b>touch-point-device</b></a>
</li>
</ul>

<p id="24">
See also the <a href="../../../classes/cg/touch-point.htm"><code>touch-point</code></a>
class and <a href="../../../cgide.htm#touch-gesture-1">About Touch
Gesture Support in Common Graphics on Windows</a>
in <a href="../../../cgide.htm">cgide.htm</a>, which has a complete
example.
</p>

<hr><p id="25"><small>Copyright (c) 1998-2016, Franz Inc. Oakland, CA., USA. All rights reserved.</small><br>
<small>This page is new in the  10.0 release.</small><br><small>Created 2016.6.21.</small><br>
</p><table border="0" width="100%" cellpadding="1" cellspacing="0"><tr><td colspan="2" bgcolor="#00FFFF"><table border="0" cellpadding="5" cellspacing="3"><tr><td align="left" bgcolor="#00FFFF"></td><td align="left" bgcolor="#00FFFF"></td><td align="center" bgcolor="#00FFFF"><a href="../../../contents.htm"><b>ToC</b></a></td><td align="center" bgcolor="#00FFFF"><a href="../../../introduction.htm"><b>DocOverview</b></a></td><td align="center" bgcolor="#00FFFF"><a href="../../../cgide.htm"><b>CGDoc</b></a></td><td align="center" bgcolor="#00FFFF"><a href="../../../release-notes.htm"><b>RelNotes</b></a></td><td align="center" bgcolor="#00FFFF"><a href="http://www.franz.com/support/faq/"><b>FAQ</b></a></td><td align="center" bgcolor="#00FFFF"><a href="../../../index.htm"><b>Index</b></a></td><td align="center" bgcolor="#00FFFF"><a href="../../../permuted-index.htm"><b>PermutedIndex</b></a></td></tr></table></td><td align="right"><b>Allegro CL version 10.0</b><br><small><a href="../../../introduction.htm#updates-s">This page is new in 10.0.</a></small></td></tr></table></body></html>