<html><head><meta http-equiv="content-type" name="description" content="text/html; charset=UTF-8"> <title>calendar</title><link rel="stylesheet" href="../../acldoc-styles.css" type="text/css"></head><body><table border="0" width="100%" cellpadding="1" cellspacing="0"><tr><td colspan="2" bgcolor="#00FFFF"><table border="0" cellpadding="5" cellspacing="3"><tr><td align="left" bgcolor="#00FFFF"><b>Class</b></td><td align="left" bgcolor="#00FFFF"><b>Package: cg</b></td><td align="center" bgcolor="#00FFFF"><a href="../../contents.htm"><b>ToC</b></a></td><td align="center" bgcolor="#00FFFF"><a href="../../introduction.htm"><b>DocOverview</b></a></td><td align="center" bgcolor="#00FFFF"><a href="../../cgide.htm"><b>CGDoc</b></a></td><td align="center" bgcolor="#00FFFF"><a href="../../release-notes.htm"><b>RelNotes</b></a></td><td align="center" bgcolor="#00FFFF"><a href="http://www.franz.com/support/faq/"><b>FAQ</b></a></td><td align="center" bgcolor="#00FFFF"><a href="../../index.htm"><b>Index</b></a></td><td align="center" bgcolor="#00FFFF"><a href="../../permuted-index.htm"><b>PermutedIndex</b></a></td></tr></table></td><td align="right"><b>Allegro CL version 10.0</b><br><small><a href="../../introduction.htm#updates-s">This page is new in 10.0.</a></small></td></tr></table><h2 id="2">calendar</h2>

<p id="3">
This widget displays a calendar that always has a particular date
selected.  The user can select a different date in a variety of ways.
</p>
<p id="4">
<p id="5"><img src="../../pictures/calendar-widget.jpg"></p>
</p>
<p id="6">
The value property of the widget always contains a universal time
integer for the currently-selected date. (Due to using Lisp universal
times, dates before 1900 cannot be selected.) You can set the slected
date with <a href="../../operators/cg/v/value.htm"><b>(setf
value)</b></a> applied to a calendar instance. The
new <a href="../../operators/cg/v/value.htm"><b>value</b></a> must be an integer
representing a universal time.
</p>
<p id="7">
If you set the selected date programmatically by passing a universal
time to <a href="../../operators/cg/v/value.htm"><b>(setf
value)</b></a>, it may be prudent to use a universal time whose time
of day is not within an hour of one AM to avoid any possible confusion
related to daylight savings time. Internally the widget arbitrarily
always specifies 4 AM to encode-universal-time when the user selects a
date interactively. Other than that, the time (hour, minute, second)
of the universal time which is the value is ignored.
</p>
<p id="8">
In the main mode, all of the dates of a single month are displayed at
any one time, with a row for each week.  The user can browse to other
months, and also switch to three alternate modes that display an
entire year, decade, or century.
</p>
<p id="9">
The user can click any "cell" in the calendar to select a date when a
month is displayed, or to select a month when a year is displayed, and
so on.  The arrow buttons in the top right and left corners can be
clicked to display the next or previous "page", such as the next month
when a month is displayed or the next year when a year is displayed.
Clicking the title displays the next higher level, such as the year
that contains the month that was displayed.  Clicking a value in a
higher level displays the selected value at the next lower level; for
example, clicking July when a year is displayed displays the dates of
July of that year.  This allows selecting any date by "zeroing in" on
it in a top-down manner.
</p>
<p id="10">
Here are the keyboard alternatives for navigating the calendar
(letters should be entered un-shifted -- they are shown uppercase
because that is the standard was to identify keyboard letters):
</p>
<table BORDER="1" CELLSPACING="1" CELLPADDING="2" WIDTH="90%">
  <tr>
    <td WIDTH="45%" VALIGN="TOP"><strong>Action</strong></td>
    <td WIDTH="45%" VALIGN="TOP"><strong>Equivalent key or letter</strong></td>
  </tr>
  <tr>
    <td WIDTH="45%" VALIGN="TOP">Select the cell to the right</td>
    <td WIDTH="45%" VALIGN="TOP">R or RightArrow</td>
  </tr>
  <tr>
    <td WIDTH="45%" VALIGN="TOP">Select the cell to the left</td>
    <td WIDTH="45%" VALIGN="TOP">L or LeftArrow</td>
  </tr>
  <tr>
    <td WIDTH="45%" VALIGN="TOP">Select the cell above</td>
    <td WIDTH="45%" VALIGN="TOP">U or UpArrow</td>
  </tr>
  <tr>
    <td WIDTH="45%" VALIGN="TOP">Select the cell below</td>
    <td WIDTH="45%" VALIGN="TOP">D or DownArrow</td>
  </tr>
  <tr>
    <td WIDTH="45%" VALIGN="TOP">Display the next page</td>
    <td WIDTH="45%" VALIGN="TOP">N or PageDown or Control-RightArrow</td>
  </tr>
  <tr>
    <td WIDTH="45%" VALIGN="TOP">Display the previous page</td>
    <td WIDTH="45%" VALIGN="TOP">P or PageUp or Control-LeftArrow</td>
  </tr>
  <tr>
    <td WIDTH="45%" VALIGN="TOP">Move to the next higher level</td>
    <td WIDTH="45%" VALIGN="TOP">H or Control-UpArrow</td>
  </tr>
  <tr>
    <td WIDTH="45%" VALIGN="TOP">Move to the next lower level</td>
    <td WIDTH="45%" VALIGN="TOP">G or Control-DownArrow or Spacebar</td>
  </tr>
</table>

<p id="11">
Some calendar cells are displayed in a special way.  By default, the
currently-selected date displays a light-blue background and a blue
border.  The date that's currently under the mouse has a similar style
using fainter colors. Today's date is drawn with red text. And dates
for the next and previous month (which share the first and last week
of the displayed month) are drawn with gray text. Any of these styles
may be modified by using the <a href="../../operators/cg/c/cell-style.htm"><b>cell-style</b></a>, <a href="../../operators/cg/c/cell-style-selected.htm"><b>cell-style-selected</b></a>, <a href="../../operators/cg/c/cell-style-under-mouse.htm"><b>cell-style-under-mouse</b></a>, <a href="../../operators/cg/c/cell-style-current-date.htm"><b>cell-style-current-date</b></a>, and
<a href="../../operators/cg/c/cell-style-other-month.htm"><b>cell-style-other-month</b></a>
properties of the widget, respectively.  And you can avoid drawing
today's date in a different way by simply turning off the
<a href="../../operators/cg/h/highlight-current-date.htm"><b>highlight-current-date</b></a>
property.
</p>
<p id="12">
Here are some other calendar properties that control the layout and
drawing style of the widget:
</p>
<ul>
<li id="13">
<a href="../../operators/cg/c/calendar-mode.htm"><b>calendar-mode</b></a>
</li>
<li id="14">
<a href="../../operators/cg/a/automatic-sizing.htm"><b>automatic-sizing</b></a>
</li>
<li id="15">
<a href="../../operators/cg/f/font.htm"><b>font</b></a>
</li>
<li id="16">
<a href="../../operators/cg/c/calendar-title-font.htm"><b>calendar-title-font</b></a>
</li>
<li id="17">
<a href="../../operators/cg/t/title-margin.htm"><b>title-margin</b></a>
</li>
<li id="18">
<a href="../../operators/cg/w/weekday-string-length.htm"><b>weekday-string-length</b></a>
</li>
<li id="19">
<a href="../../operators/cg/r/row-padding.htm"><b>row-padding</b></a>
</li>
<li id="20">
<a href="../../operators/cg/c/column-padding.htm"><b>column-padding</b></a>
</li>
<li id="21">
<a href="../../operators/cg/b/border-margin.htm"><b>border-margin</b></a>
</li>
<li id="22">
<a href="../../operators/cg/s/show-focus-box.htm"><b>show-focus-box</b></a>
</li>
<li id="23">
<a href="../../operators/cg/f/focus-box-color.htm"><b>focus-box-color</b></a>
</li>
<li id="24">
<a href="../../operators/cg/i/increment-pixmap-name.htm"><b>increment-pixmap-name</b></a>
</li>
<li id="25">
<a href="../../operators/cg/d/decrement-pixmap-name.htm"><b>decrement-pixmap-name</b></a>
</li>
</ul>
<p id="26">
The following properties may be read to retrieve the individual parts
of the currently selected date, as an alternative to parsing the
universal time that's in the value property.  A new date can be
selected programmatically only by setting the <a href="../../operators/cg/v/value.htm"><b>value</b></a> property, though.
</p>
<ul>
<li id="27">
<a href="../../operators/cg/c/calendar-year.htm"><b>calendar-year</b></a>
</li>
<li id="28">
<a href="../../operators/cg/c/calendar-month.htm"><b>calendar-month</b></a>
</li>
<li id="29">
<a href="../../operators/cg/c/calendar-date.htm"><b>calendar-date</b></a>
</li>
<li id="30">
<a href="../../operators/cg/c/calendar-day.htm"><b>calendar-day</b></a>
</li>
</ul>

<hr><p id="31"><small>Copyright (c) 1998-2016, Franz Inc. Oakland, CA., USA. All rights reserved.</small><br>
<small>This page is new in the  10.0 release.</small><br><small>Created 2016.6.21.</small><br>
</p><table border="0" width="100%" cellpadding="1" cellspacing="0"><tr><td colspan="2" bgcolor="#00FFFF"><table border="0" cellpadding="5" cellspacing="3"><tr><td align="left" bgcolor="#00FFFF"></td><td align="left" bgcolor="#00FFFF"></td><td align="center" bgcolor="#00FFFF"><a href="../../contents.htm"><b>ToC</b></a></td><td align="center" bgcolor="#00FFFF"><a href="../../introduction.htm"><b>DocOverview</b></a></td><td align="center" bgcolor="#00FFFF"><a href="../../cgide.htm"><b>CGDoc</b></a></td><td align="center" bgcolor="#00FFFF"><a href="../../release-notes.htm"><b>RelNotes</b></a></td><td align="center" bgcolor="#00FFFF"><a href="http://www.franz.com/support/faq/"><b>FAQ</b></a></td><td align="center" bgcolor="#00FFFF"><a href="../../index.htm"><b>Index</b></a></td><td align="center" bgcolor="#00FFFF"><a href="../../permuted-index.htm"><b>PermutedIndex</b></a></td></tr></table></td><td align="right"><b>Allegro CL version 10.0</b><br><small><a href="../../introduction.htm#updates-s">This page is new in 10.0.</a></small></td></tr></table></body></html>