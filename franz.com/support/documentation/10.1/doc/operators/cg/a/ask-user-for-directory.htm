<html><head><meta name="viewport" content="width=device-width, initial-scale=1"> <meta http-equiv="content-type" name="description" content="text/html; charset=UTF-8"> <link rel="stylesheet" href="../../../acldoc-styles.css" type="text/css"><title>ask-user-for-directory</title></head><body><table border="0" width="100%" cellpadding="1" cellspacing="0"><tr><td colspan="2" bgcolor="#00FFFF"><table border="0" cellpadding="5" cellspacing="3"><tr><td align="left" bgcolor="#00FFFF"><b>Function</b></td><td align="left" bgcolor="#00FFFF"><b>Package: cg</b></td><td align="center" bgcolor="#00FFFF"><a href="../../../contents.htm"><b>ToC</b></a></td><td align="center" bgcolor="#00FFFF"><a href="../../../introduction.htm"><b>DocOverview</b></a></td><td align="center" bgcolor="#00FFFF"><a href="../../../cgide.htm"><b>CGDoc</b></a></td><td align="center" bgcolor="#00FFFF"><a href="../../../release-notes.htm"><b>RelNotes</b></a></td><td align="center" bgcolor="#00FFFF"><a href="http://www.franz.com/support/faq/"><b>FAQ</b></a></td><td align="center" bgcolor="#00FFFF"><a href="../../../index.htm"><b>Index</b></a></td><td align="center" bgcolor="#00FFFF"><a href="../../../permuted-index.htm"><b>PermutedIndex</b></a></td></tr></table></td><td align="right"><b>Allegro CL version 10.1</b><br><small><a href="../../../introduction.htm#updates-s">Unrevised from 10.0 to 10.1.</a></small><br><a href="http://www.franz.com/support/documentation/10.0/doc/operators/cg/a/ask-user-for-directory.htm">10.0 version</a></td></tr></table><h2 id="2">ask-user-for-directory</h2>



<p id="3"><b>Arguments: </b><i>
</i>&amp;key  (<i>prompt</i> "Select a folder.") (<i>stream</i> (selected-window-or-screen))<i> root dont-go-below-domain browse-include-files include-edit-box new-dialog-style</i><i>
</i></p>


<p id="4">
Displays a dialog where the user can select an existing directory
(also known as a folder).
</p>
<p id="5">
The newer function <a href="../a/ask-user-for-new-or-existing-directory.htm"><b>ask-user-for-new-or-existing-directory</b></a> has more
options than this one and works the same on all platforms, and so may
be a better choice in most cases.  On the other hand, on the Windows
platform this function will show the dialog that is provided by
Microsoft, with its native look and feel.  On GTK, this function
simply calls <a href="../a/ask-user-for-new-or-existing-directory.htm"><b>ask-user-for-new-or-existing-directory</b></a>.
</p>
<p id="6">
The chosen directory is
returned as a pathname object. Note that the pathname of the directory
is stored in a buffer and if the buffer is too small, an error will be
signaled. The buffer size is determined by <a href="../f/file-selection-buffer-size.htm"><b>file-selection-buffer-size</b></a>. The
default size is large enough to hold at least 12 pathnames so this
should not be a problem for this function, which returns one pathname
only.
</p>
<p id="7">
Note too that it is not possible to specify the initially-selected
directory or which subdirectories are initially open in the hierarchy
that is presented.
</p>
<p id="8">
The arguments are:
</p>
<ul>
<li id="9">
<b><i>prompt</i></b>: an informational string explaining
to the end user what they need to choose. The string appears in the
body of the dialog. If unspecified or <code>nil</code>,
the prompt "Select a folder." is used.
</li>
<li id="10">
<b><i>stream</i></b>: the window or screen that will
serve as the owner of the dialog while it is present. The dialog will
be modal with respect to this owner window and all of its child
windows and owned windows (that is, the user will not be able to
access these windows while the dialog is present). Defaults to the
stream returned by <a href="../s/selected-window-or-screen.htm"><b>selected-window-or-screen</b></a>.
</li>
<li id="11">
<b><i>root</i></b>: <b>This argument is no longer
working for undetermined reasons. We recommend using the more
versatile function <a href="../a/ask-user-for-new-or-existing-directory.htm"><b>ask-user-for-new-or-existing-directory</b></a> instead,
specifying the <i>initial-directory</i> argument, which
is the equivalent of <i>root</i> for that function.</b>
When this argument is working, the value should be a pathname, path
namestring, or <code>nil</code>, indicating the directory
that will appear as the root node in the dialog's directory tree. Only
this directory and its subdirectory descendents will be presented for
selection by the end user. <code>nil</code> means to
include all available file systems.  The final slash is optional when either a pathname or
namestring is passed.
</li>
<li id="12">
<b><i>dont-go-below-domain</i></b>: if true, then
network folders below the domain level, (as defined by MSDN), will be
excluded from the tree of choices (though network folders above the
actual directories may still be
viewed). If <code>nil</code>, directories on both the
local computer and networked computers are accessible. .
</li>
<li id="13">
<b><i>browse-include-files</i></b>: if true, the dialog
will display regular files in addition to directories, and either a
directory or other file may be chosen by the end user and returned.
</li>

<li id="14">
<b><i>include-edit-box</i></b>: if true, then a
text-entry widget will be included on the dialog. If the absolute
(complete) path namestring of an existing folder (with or without the
final backslash) is typed or pasted here, it will be used instead of
the folder that's selected in the outline widget (if any). 
</li>
<li id="15">
<b><i>new-dialog-style</i></b>: if true, then
Microsoft's "newer style" is used, where the dialog is resizable, is
centered on the screen, and has a "Make new folder" button for
creating a new directory. The new style also provides a right-click
menu in the outline widget for doing things such as renaming a folder.
These features used together allow the user to create and then rename
a new folder, though more awkwardly than with
<a href="../a/ask-user-for-new-or-existing-directory.htm"><b>ask-user-for-new-or-existing-directory</b></a>. 
</li>

</ul>
<p id="16">
See also <a href="../a/ask-user-for-existing-pathname.htm"><b>ask-user-for-existing-pathname</b></a> and
<a href="../a/ask-user-for-new-pathname.htm"><b>ask-user-for-new-pathname</b></a>.
</p>





<hr><p id="17"><small>Copyright (c) 1998-2017, Franz Inc. Oakland, CA., USA. All rights reserved.</small><br>
<small>This page was not revised from the 10.0 page.</small><br><small>Created 2017.2.15.</small><br>
</p><table border="0" width="100%" cellpadding="1" cellspacing="0"><tr><td colspan="2" bgcolor="#00FFFF"><table border="0" cellpadding="5" cellspacing="3"><tr><td align="left" bgcolor="#00FFFF"></td><td align="left" bgcolor="#00FFFF"></td><td align="center" bgcolor="#00FFFF"><a href="../../../contents.htm"><b>ToC</b></a></td><td align="center" bgcolor="#00FFFF"><a href="../../../introduction.htm"><b>DocOverview</b></a></td><td align="center" bgcolor="#00FFFF"><a href="../../../cgide.htm"><b>CGDoc</b></a></td><td align="center" bgcolor="#00FFFF"><a href="../../../release-notes.htm"><b>RelNotes</b></a></td><td align="center" bgcolor="#00FFFF"><a href="http://www.franz.com/support/faq/"><b>FAQ</b></a></td><td align="center" bgcolor="#00FFFF"><a href="../../../index.htm"><b>Index</b></a></td><td align="center" bgcolor="#00FFFF"><a href="../../../permuted-index.htm"><b>PermutedIndex</b></a></td></tr></table></td><td align="right"><b>Allegro CL version 10.1</b><br><small><a href="../../../introduction.htm#updates-s">Unrevised from 10.0 to 10.1.</a></small><br><a href="http://www.franz.com/support/documentation/10.0/doc/operators/cg/a/ask-user-for-directory.htm">10.0 version</a></td></tr></table></body></html>