<html><head><meta name="viewport" content="width=device-width, initial-scale=1"> <meta http-equiv="content-type" name="description" content="text/html; charset=UTF-8"> <link rel="stylesheet" href="../../../acldoc-styles.css" type="text/css"><title>load-utf8-if-no-bom</title></head><body><table border="0" width="100%" cellpadding="1" cellspacing="0"><tr><td colspan="2" bgcolor="#00FFFF"><table border="0" cellpadding="5" cellspacing="3"><tr><td align="left" bgcolor="#00FFFF"><b>Generic Function</b></td><td align="left" bgcolor="#00FFFF"><b>Package: cg</b></td><td align="center" bgcolor="#00FFFF"><a href="../../../contents.htm"><b>ToC</b></a></td><td align="center" bgcolor="#00FFFF"><a href="../../../introduction.htm"><b>DocOverview</b></a></td><td align="center" bgcolor="#00FFFF"><a href="../../../cgide.htm"><b>CGDoc</b></a></td><td align="center" bgcolor="#00FFFF"><a href="../../../release-notes.htm"><b>RelNotes</b></a></td><td align="center" bgcolor="#00FFFF"><a href="http://www.franz.com/support/faq/"><b>FAQ</b></a></td><td align="center" bgcolor="#00FFFF"><a href="../../../index.htm"><b>Index</b></a></td><td align="center" bgcolor="#00FFFF"><a href="../../../permuted-index.htm"><b>PermutedIndex</b></a></td></tr></table></td><td align="right"><b>Allegro CL version 10.1</b><br><small><a href="../../../introduction.htm#updates-s">Unrevised from 10.0 to 10.1.</a></small><br><a href="http://www.franz.com/support/documentation/10.0/doc/operators/cg/l/load-utf8-if-no-bom.htm">10.0 version</a></td></tr></table><h2 id="2">load-utf8-if-no-bom</h2>

<p id="3"><b>Arguments: </b><i>
cg-configuration
</i></p>

<p id="4">
This option has an effect only on the Windows platform.  On GTk, CG
always saves and loads files in UTF8 format.
</p>
<p id="5">
This CG configuration option determines whether the
function <a href="../l/load-file.htm"><b>load-file</b></a> will assume
that the file is in UTF8 format if it contains no byte order marker
(BOM) bytes at the beginning.  This affects the IDE's source code
editor as well as calling <a href="../l/load-file.htm"><b>load-file</b></a> on a <a href="../../../classes/cg/text-edit-pane.htm"><code>text-edit-pane</code></a> in a CG application.
</p>
<p id="6">
When true, <a href="../l/load-file.htm"><b>load-file</b></a> will read
a file that has no BOM using the <code>:utf8</code>
external-format, and otherwise it will read it using the :default
external-format, which is the external-format of the locale into which
Windows is currently booted.  On an English version of Windows, for
example, the default external-format will typically be a Latin1
encoding.
</p>
<p id="7">
If the external-format that is used does not match the format of the
file that's being read, then the file will probably not be read
correctly if it contains non-ASCII characters.  If a file to be read
has no BOM and is in neither UTF8 format nor the default format, then
an application could use Common Lisp functions to load the file into a
string (specifying the necessary external-format), and then call
<a href="../s/set-text.htm"><b>set-text</b></a> to put the text into
a <a href="../../../classes/cg/text-edit-pane.htm"><code>text-edit-pane</code></a>.
</p>
<p id="8">
This option is <code>nil</code> by default, mostly for
compatibility with existing files that have been written in the
default format.  Prior to Allegro CL 9.0, <a href="../s/save-file.htm"><b>save-file</b></a> and the IDE's source code editor
always used the default format on Windows.  On GTk, UTf8 has always
been used.
</p>
<p id="9">
This option can be found on the Editor tab of the
IDE's <a href="../../../ide-menus-and-dialogs/options-dialog.htm">Options
dialog</a>.
</p>
<p id="10">
See also <a href="../e/external-format-for-saved-files.htm"><b>external-format-for-saved-files</b></a> and
<a href="../../ide/compile-files-as-utf8.htm"><b>compile-files-as-utf8</b></a>.
</p>

<hr><p id="11"><small>Copyright (c) 1998-2017, Franz Inc. Oakland, CA., USA. All rights reserved.</small><br>
<small>This page was not revised from the 10.0 page.</small><br><small>Created 2017.2.15.</small><br>
</p><table border="0" width="100%" cellpadding="1" cellspacing="0"><tr><td colspan="2" bgcolor="#00FFFF"><table border="0" cellpadding="5" cellspacing="3"><tr><td align="left" bgcolor="#00FFFF"></td><td align="left" bgcolor="#00FFFF"></td><td align="center" bgcolor="#00FFFF"><a href="../../../contents.htm"><b>ToC</b></a></td><td align="center" bgcolor="#00FFFF"><a href="../../../introduction.htm"><b>DocOverview</b></a></td><td align="center" bgcolor="#00FFFF"><a href="../../../cgide.htm"><b>CGDoc</b></a></td><td align="center" bgcolor="#00FFFF"><a href="../../../release-notes.htm"><b>RelNotes</b></a></td><td align="center" bgcolor="#00FFFF"><a href="http://www.franz.com/support/faq/"><b>FAQ</b></a></td><td align="center" bgcolor="#00FFFF"><a href="../../../index.htm"><b>Index</b></a></td><td align="center" bgcolor="#00FFFF"><a href="../../../permuted-index.htm"><b>PermutedIndex</b></a></td></tr></table></td><td align="right"><b>Allegro CL version 10.1</b><br><small><a href="../../../introduction.htm#updates-s">Unrevised from 10.0 to 10.1.</a></small><br><a href="http://www.franz.com/support/documentation/10.0/doc/operators/cg/l/load-utf8-if-no-bom.htm">10.0 version</a></td></tr></table></body></html>