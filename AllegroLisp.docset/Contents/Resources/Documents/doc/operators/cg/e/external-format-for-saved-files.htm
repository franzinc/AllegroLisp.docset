<html><head><meta http-equiv="content-type" name="description" content="text/html; charset=UTF-8"> <title>external-format-for-saved-files</title><link rel="stylesheet" href="../../../acldoc-styles.css" type="text/css"></head><body><table border="0" width="100%" cellpadding="1" cellspacing="0"><tr><td colspan="2" bgcolor="#00FFFF"><table border="0" cellpadding="5" cellspacing="3"><tr><td align="left" bgcolor="#00FFFF"><b>Generic Function</b></td><td align="left" bgcolor="#00FFFF"><b>Package: cg</b></td><td align="center" bgcolor="#00FFFF"><a href="../../../contents.htm"><b>ToC</b></a></td><td align="center" bgcolor="#00FFFF"><a href="../../../introduction.htm"><b>DocOverview</b></a></td><td align="center" bgcolor="#00FFFF"><a href="../../../cgide.htm"><b>CGDoc</b></a></td><td align="center" bgcolor="#00FFFF"><a href="../../../release-notes.htm"><b>RelNotes</b></a></td><td align="center" bgcolor="#00FFFF"><a href="http://www.franz.com/support/faq/"><b>FAQ</b></a></td><td align="center" bgcolor="#00FFFF"><a href="../../../index.htm"><b>Index</b></a></td><td align="center" bgcolor="#00FFFF"><a href="../../../permuted-index.htm"><b>PermutedIndex</b></a></td></tr></table></td><td align="right"><b>Allegro CL version 10.0</b><br><small><a href="../../../introduction.htm#updates-s">Unrevised from 9.0 to 10.0.</a></small><br><a href="http://www.franz.com/support/documentation/9.0/doc/operators/cg/e/external-format-for-saved-files.htm">9.0 version</a></td></tr></table><h2 id="2">external-format-for-saved-files</h2>

<p id="3"><b>Arguments: </b><i>
cg-configuration
</i></p>

<p id="4">
This configuration option determines the character encoding that will
be used by the function <a href="../s/save-file.htm"><b>save-file</b></a> for saving the text that's in a
<a href="../../../classes/cg/text-edit-pane.htm"><code>text-edit-pane</code></a> to a file.
This applies only on the Windows platform, because GTk always uses the
UTF8 format.
</p>
<p id="5">
This option affects the IDE's source code editor because it calls
<a href="../s/save-file.htm"><b>save-file</b></a> whenever it saves a
file.
</p>
<p id="6">
This option is generally used only when saving a text-edit-pane's text
to file for the first time, rather than when re-saving a file that was
loaded and edited.  Specifically, when <a href="../l/load-file.htm"><b>load-file</b></a> is called to load text into a <a href="../../../classes/cg/text-edit-pane.htm"><code>text-edit-pane</code></a>, the external format
that was used for reading the file is stored as the <a href="../e/external-format-for-save.htm"><b>external-format-for-save</b></a> property of the
<a href="../../../classes/cg/text-edit-pane.htm"><code>text-edit-pane</code></a>, and <a href="../s/save-file.htm"><b>save-file</b></a> will later use that same
external format to update the file.  The options below will be used
only if the <a href="../e/external-format-for-save.htm"><b>external-format-for-save</b></a> property is
<code>nil</code> (either because no file was loaded or
because you've set that property back to <code>nil</code>), or if this option value is
<code>:ask-always</code>.
</p>
<p id="7">
Here are the valid values for this option.  Some of these are the same
as valid <a href="../../../../ansicl/dictentr/stream-1.htm"><b>stream-external-format</b></a> values.
</p>
<ul>
<li id="8">
<b><code>:default</code></b> -- Saves a new file using the
external format of the locale with which the Windows operating system
is currently booted.  This is the default value, and is what was
always done in Allegro releases prior to 9.0.
</li>
<li id="9">
<b><code>:unicode</code></b> -- Saves a new file in a
little-endian 16-bit Unicode format.
</li>
<li id="10">
<b><code>:utf8</code></b> -- Saves a new file in UTF8 format.
This format is always used on GTk platforms.
</li>
<li id="11">
<b><code>:ask-new</code></b> -- When saving a new file, shows a
modal dialog asking which of the above formats to use.
</li>
<li id="12">
<b><code>:ask-always</code></b> -- Always shows a dialog asking
which format to use when saving a file, even when updating a file that
had been loaded with load-file.
</li>
</ul>
<p id="13">
See also <a href="../a/automatic-font-changing.htm"><b>automatic-font-changing</b></a>
and <a href="../../../variables/excl/s_use-unicode-winapi-for-cg_s.htm"><code>excl:*use-unicode-winapi-for-cg*</code></a>. The
configuration option <a href="../w/write-bom-to-utf8-files.htm"><b>write-bom-to-utf8-files</b></a> controls
whether <a href="../s/save-file.htm"><b>save-file</b></a> will write
UTF8 byte order marker (BOM) bytes at the beginning of the file, if
the file is being saved in UTF8 format.
</p>

<p id="14">
See also <a href="../l/load-utf8-if-no-bom.htm"><b>load-utf8-if-no-bom</b></a> and
<a href="../../ide/compile-files-as-utf8.htm"><b>compile-files-as-utf8</b></a>.
</p>

<hr><p id="15"><small>Copyright (c) 1998-2016, Franz Inc. Oakland, CA., USA. All rights reserved.</small><br>
<small>This page was not revised from the 9.0 page.</small><br><small>Created 2015.5.21.</small><br>
</p><table border="0" width="100%" cellpadding="1" cellspacing="0"><tr><td colspan="2" bgcolor="#00FFFF"><table border="0" cellpadding="5" cellspacing="3"><tr><td align="left" bgcolor="#00FFFF"></td><td align="left" bgcolor="#00FFFF"></td><td align="center" bgcolor="#00FFFF"><a href="../../../contents.htm"><b>ToC</b></a></td><td align="center" bgcolor="#00FFFF"><a href="../../../introduction.htm"><b>DocOverview</b></a></td><td align="center" bgcolor="#00FFFF"><a href="../../../cgide.htm"><b>CGDoc</b></a></td><td align="center" bgcolor="#00FFFF"><a href="../../../release-notes.htm"><b>RelNotes</b></a></td><td align="center" bgcolor="#00FFFF"><a href="http://www.franz.com/support/faq/"><b>FAQ</b></a></td><td align="center" bgcolor="#00FFFF"><a href="../../../index.htm"><b>Index</b></a></td><td align="center" bgcolor="#00FFFF"><a href="../../../permuted-index.htm"><b>PermutedIndex</b></a></td></tr></table></td><td align="right"><b>Allegro CL version 10.0</b><br><small><a href="../../../introduction.htm#updates-s">Unrevised from 9.0 to 10.0.</a></small><br><a href="http://www.franz.com/support/documentation/9.0/doc/operators/cg/e/external-format-for-saved-files.htm">9.0 version</a></td></tr></table></body></html>